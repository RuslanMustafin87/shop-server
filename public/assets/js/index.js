!function(e){function t(t){for(var r,c,u=t[0],i=t[1],s=t[2],d=0,f=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(l&&l(t);f.length;)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={3:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=i;a.push([14,0]),n()}({14:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(0),c=n.n(a),u=(n(5),n(8),n(4)),i=n.n(u),s=n(6),l=n.n(s),d=function(){function e(){i()(this,e)}return l()(e,[{key:"sortByIncrease",value:function(e){e.sort((function(e,t){return console.log(e.dataset.price),e.dataset.price-t.dataset.price}))}},{key:"sortByDecrease",value:function(e){e.sort((function(e,t){return t.dataset.price-e.dataset.price}))}},{key:"sortByAlphabet",value:function(e){e.sort((function(e,t){return e.dataset.name<t.dataset.name?-1:1}))}}]),e}(),f=n(2),p=new f.a;document.addEventListener("pointerdown",(function(){var e=event.target.closest(".products__item");if(e&&1===event.which){var t=function(e){e.hidden=!0;var t=document.elementFromPoint(event.clientX,event.clientY);if(e.hidden=!1,t){if(t=t.closest(".basket"))return t.style.transform="scale(1.5)",void(i=!0);r.style.transform="scale(1)",i=!1}},n=function(n){var r,i;a||(!function(e,t){document.body.append(e),e.style.width=t.offsetWidth+"px",e.style.height=t.offsetHeight+"px",e.style.zIndex=1e3,e.style.position="fixed",e.style.opacity=".4",e.style.margin="0"}(o,e),o.style.left=e.getBoundingClientRect().left+"px",o.style.top=e.getBoundingClientRect().top+"px",c=n.clientX-o.getBoundingClientRect().left,u=n.clientY-o.getBoundingClientRect().top,a=!0),r=n.clientX,i=n.clientY,o.style.left=r-c+"px",o.style.top=i-u+"px",t(o)},r=document.querySelector(".basket"),o=e.cloneNode(!0);o.ondragstart=function(){return!1};var a=!1,c=0,u=0,i=!1;document.addEventListener("pointermove",n),document.onmouseup=function(){i&&(p.addProductInBasket(o.dataset.id,o.dataset.name,o.dataset.price,o.dataset.background),r.style.transform="scale(1)",i=!1),document.removeEventListener("pointermove",n),document.onmouseup=null,o.remove(),a=!1}}}));var v,y=new d,m=new f.a,g=document.querySelector(".products"),h=null,b=null;function w(e){e.forEach((function(e,t){g.append(e)}))}function x(e){for(var t=document.querySelectorAll(".product__image"),n=0;n<t.length;n++)if(e[n].image){var r=new Blob([new Uint8Array(e[n].image.data)],{type:"image/jpeg"});t[n].src=URL.createObjectURL(r)}}(v=o()(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,fetch("http://127.0.0.1:3007/api/products");case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:t&&(x(t),h=b=Array.from(document.querySelectorAll(".product")));case 15:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(){return v.apply(this,arguments)})(),g.addEventListener("mousedown",(function(e){e.preventDefault();var t=e.target.closest(".product__button");if(t&&g.contains(t)){var n=t.closest(".products__item");m.addProductInBasket(n.dataset.id,n.dataset.name,n.dataset.price,n.dataset.background)}}));var k=document.querySelector(".sort-products"),_=new Event("change");function B(e){for(;e.firstChild;)e.removeChild(e.firstChild)}k.addEventListener("change",(function(e){switch(B(g),e.target.value){case"sortIncreasedPrice":y.sortByIncrease(b),w(b);break;case"sortDecreasedPrice":y.sortByDecrease(b),w(b);break;case"sortAlphabet":y.sortByAlphabet(b),w(b)}})),document.querySelector(".sort-products-by-category").onchange=function(e){if("all"===e.target.value)return B(g),b=h,k.dispatchEvent(_),void w(b);var t,n;t=h,n=e.target.value,B(g),b=t.filter((function(e){return e.dataset.category===n})),k.dispatchEvent(_),w(b)}},8:function(e,t,n){}});