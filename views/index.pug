extends ./templates/main.pug

block var
    - var title = 'Магазин'
    - var page = 'index'
block content
    main.main-index
        .main-index__wrapper
            select.main-index__sort.sort-products(name='sort-products')
                option(value='sortIncreasedPrice' selected) По возростающей цене
                option(value='sortDecreasedPrice' ) По убывающей цене
                option(value='sortAlphabet') По алфавиту
            select.main-index__sort-by-category.sort-products-by-category(name='category' placeholder='категория')
                option(value="all") Все категории
                option(value="sofa") Диван
                option(value="dresser") Комод
                option(value="wardrobe") Шкаф
                option(value="table") Стол
            // TODO линивая загрузка
            ul.main-index__products.products
                each item in products
                    li.products__item.product-card(data-id=item._id  data-name=item.name data-price=item.price data-category=item.category)
                        a.product-card__link(href= `product?id=${item._id}`)
                            img.product-card__image(alt=`${item.category} ${item.name}`)
                        .product-card__rating
                            - var ratingCheck = item.rating.roundedRating
                            include ./blocks/rating-star/rating-star.pug
                        h1.product-card__name= item.name
                        span.product-card__price= item.price
                        button.product-card__button Добавить